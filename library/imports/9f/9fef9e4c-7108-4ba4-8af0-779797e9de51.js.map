{"version":3,"sources":["assets/scripts/utils/searchNeighbor.ts"],"names":[],"mappings":";;;;;;;AACA,8CAAyC;AAGlC,IAAM,cAAc,GAAG,UAAC,GAAY,EAAE,OAAoB,EAAE,aAAwB,EAAE,IAAgB,EAAE,KAAmC;IAChJ,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,gBAAM,CAAC,WAAW,IAAI,GAAG,CAAC,CAAC,IAAI,gBAAM,CAAC,YAAY;QAAE,OAAO;IAClG,IAAM,GAAG,GAAM,GAAG,CAAC,CAAC,SAAI,GAAG,CAAC,CAAG,CAAC;IAChC,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAAE,OAAO;IAE7B,IAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACjC,IAAI,CAAC,IAAI;QAAE,OAAO;IAElB,IAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC3C,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE;QACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,sBAAc,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC7E,sBAAc,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC7E,sBAAc,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC7E,sBAAc,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC9E;IACD,OAAO,aAAa,CAAA;AACtB,CAAC,CAAC;AAlBW,QAAA,cAAc,kBAkBzB","file":"","sourceRoot":"/","sourcesContent":["import { BubbleType } from \"../constants/bubbleSpriteFrame\";\nimport config from \"../constants/config\";\n\n\nexport const searchNeighbor = (pos: cc.Vec2, visited: Set<string>, groupToRemove: cc.Node[], type: BubbleType, board: Array<Array<cc.Node | null>>) => {\n  if (pos.x < 0 || pos.y < 0 || pos.x >= config.BOARD_WIDTH || pos.y >= config.BOARD_HEIGHT) return;\n  const key = `${pos.x},${pos.y}`;\n  if (visited.has(key)) return;\n\n  const node = board[pos.x][pos.y];\n  if (!node) return;\n\n  const bubble = node.getComponent('Bubble');\n  if (bubble.type === type) {\n    visited.add(key);\n    groupToRemove.push(node);\n    searchNeighbor(cc.v2(pos.x + 1, pos.y), visited, groupToRemove, type, board);\n    searchNeighbor(cc.v2(pos.x - 1, pos.y), visited, groupToRemove, type, board);\n    searchNeighbor(cc.v2(pos.x, pos.y + 1), visited, groupToRemove, type, board);\n    searchNeighbor(cc.v2(pos.x, pos.y - 1), visited, groupToRemove, type, board);\n  }\n  return groupToRemove\n};\n"]}